# Garamon Java Bindings Generator

This project provides a script to generate Java bindings for Geometric Algebra libraries produced by Garamon. Its primary role is to generate a new Java project from templates.

Garamon is a C++ library generator for Geometric Algebra. This tool leverages `jextract` to create Java bindings from the C header files and native libraries generated by Garamon, making it possible to use these Geometric Algebra implementations within Java applications.

The generated project contains the Java bindings for the specified algebra. This project is standard and can be opened in any Java IDE, allowing easy access and use of the `Mvec` library.

## Prerequisites

### 1. Garamon Library

You need a Geometric Algebra library generated by Garamon. For now, you can use a specific fork and branch:

```bash
git clone https://github.com/oarcher/garamon.git
cd garamon
git checkout binding_gen
# Follow Garamon's build instructions to generate your library
```

### 2. jextract Tool

The `jextract` tool is required to generate the Java bindings. It is part of Project Panama and requires **JDK 25** or later.

You can download `jextract` from [https://jdk.java.net/jextract/](https://jdk.java.net/jextract/).

## Usage

To generate the Java bindings, use the `create_package.sh` script:

```bash
./create_package.sh --lib=<path_to_native_library> --mvec_h=<path_to_mvec_header> [--jextract=<path_to_jextract_tool>] [--out=<output_directory>] [--publish]
```

### Arguments:

*   `--lib=<path>`: Path to the native library (e.g., `../garamon/build/output/garamon_c5ga/libc5ga.so`, `../garamon/build/output/garamon_c5ga/c5ga.dll`).
*   `--mvec_h=<path>`: Path to the C header file (e.g., `../garamon/build/output/garamon_c5ga/src/c5ga/Mvec.h`) for `jextract`.
*   `--jextract=<path>`: Path to the `jextract` tool executable (optional). If not provided, `jextract` must be in your system's PATH.
*   `--out=<path>`: Directory where the skeleton project will be copied (optional). The main algebra project is always generated in `build-algebra`.

## Example

Assuming you have built Garamon in `../garamon` and `jextract` is installed at `/usr/share/jextract-22/bin/jextract`. The main algebra project will be generated in `build-algebra`, and the examples project will be copied to `my_algebra_project`:

```bash
./create_package.sh 
    --lib=../garamon/build/output/garamon_c5ga/libc5ga.so
    --mvec_h=../garamon/build/output/garamon_c5ga/src/c5ga/Mvec.h
    --jextract=/usr/share/jextract-22/bin/jextract \
    --out=my_algebra_project \
    --publish
```
